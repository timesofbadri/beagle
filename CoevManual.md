# Co-evolution Manual #

**NOTE: This subsection on co-evolution is far to short. It should be rewritten with more explanations and use examples. Maybe a complete section in next chapter would be necessary.**

Co-evolution framework is based on multi-threading programming, where each thread is associated to a population. The execution sequence of each thread is the same than what usually done in the main function of standard evolutions, as described in section [Building a System for an Evolution](UserGuide#Building_a_System_for_an_Evolution.md) of the User Guide (i.e. build system, evaluation operator, vivarium, evolver, initialize evolver, and start evolution). The population in each thread evolves independently, with inter-thread synchronization only in co-evolutionary fitness evaluation operator. This operator behaves quite differently than usual mono-population evaluation operator. The co-evolution evaluation procedure starts by calling `Coev::EvaluationOp::makeSets`, which makes evaluation sets of the evolving population and add them into shared storage structure, using method `Coev::EvaluationOp::addSet`. When the desired number of evaluation sets is added  (the trigger value) the co-evolutionary fitness evaluation method defined in `Coev::EvaluationOp::evaluateSets` is called. Pure virtual methods `Coev::EvaluationOp::makeSets` and `Coev::EvaluationOp::evaluateSets` are problem-specific and must be defined by the user in its co-evolutionary fitness evaluation operators.

A trigger value is used to specify the number of evaluation sets needed to start a co-evolutionary evaluation. This value is usually equal to the number of threads/populations used, as usually each thread/population add one evaluation set before doing the co-evolutionary evaluation operation. But different trigger value can be used depending on the context.

Marc Parizeau's portable C++ classes for multi-threading (defined in namespace `Threading`) are also provided with co-evolutionary framework. These are used internally by the co-evolution framework. Users are advised to use them for their co-evolutionary applications.